<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet author="thaitt" id="2021-04-07-change-data-type-column-product-type-table-products">
        <modifyDataType columnName="PRODUCT_TYPE"
                         newDataType="varchar(50)"
                         tableName="PRODUCTS"/>
    </changeSet>

    <changeSet author="thaitt" id="2021-04-15-add-column-product-name-not-accent-in-table-products" >
        <addColumn tableName="PRODUCTS">
            <column name="PRODUCT_NAME_NOT_ACCENT" type="varchar(500)"/>
        </addColumn>
        <rollback>
            <dropColumn tableName="PRODUCTS" columnName="PRODUCT_NAME_NOT_ACCENT"/>
        </rollback>
    </changeSet>

    <changeSet author="thaitt" id="2021-04-19-add-column-to-combo_product_trans">
        <addColumn tableName="COMBO_PRODUCT_TRANS">
            <column name="CREATED_AT" type="datetime"></column>
            <column name="UPDATED_AT" type="datetime"></column>
            <column name="DELETED_AT" type="datetime"></column>
        </addColumn>
        <rollback>
            <dropColumn tableName="COMBO_PRODUCT_TRANS" columnName="CREATED_AT"/>
            <dropColumn tableName="COMBO_PRODUCT_TRANS" columnName="UPDATED_AT"/>
            <dropColumn tableName="COMBO_PRODUCT_TRANS" columnName="DELETED_AT"/>
        </rollback>
    </changeSet>
    <changeSet author="thaitt" id="2021-04-19-add-column-to-combo_product_trans_detail">
        <addColumn tableName="COMBO_PRODUCT_TRANS_DETAIL">
            <column name="CREATED_AT" type="datetime"></column>
            <column name="UPDATED_AT" type="datetime"></column>
            <column name="DELETED_AT" type="datetime"></column>
        </addColumn>
        <rollback>
            <dropColumn tableName="COMBO_PRODUCT_TRANS_DETAIL" columnName="CREATED_AT"/>
            <dropColumn tableName="COMBO_PRODUCT_TRANS_DETAIL" columnName="UPDATED_AT"/>
            <dropColumn tableName="COMBO_PRODUCT_TRANS_DETAIL" columnName="DELETED_AT"/>
        </rollback>
    </changeSet>

    <changeSet id="22-04-2021-rename-column-product-name-not-accent-in-table-products" author="thaitt">
        <renameColumn tableName="PRODUCTS" columnDataType="varchar(500)" oldColumnName="PRODUCT_NAME_NOT_ACCENT" newColumnName="PRODUCT_NAME_TEXT"/>
    </changeSet>

    <changeSet author="thaitt" id="2021-04-23-change-data-type-column-is-combo-table-combo-product-trans-detail">
        <modifyDataType columnName="IS_COMBO"
                        newDataType="tinyint"
                        tableName="COMBO_PRODUCT_TRANS_DETAIL"/>
    </changeSet>

    <changeSet author="thaitt" id="2021-04-23-change-data-type-column-total-quantity-table-combo-product-trans">
        <modifyDataType columnName="TOTAL_QUANTITY"
                        newDataType="int"
                        tableName="COMBO_PRODUCT_TRANS"/>
    </changeSet>

    <changeSet author="thaitt" id="2021-04-23-change-data-type-column-factor-table-combo-product-detail">
        <modifyDataType columnName="FACTOR"
                        newDataType="int"
                        tableName="COMBO_PRODUCT_DETAIL"/>
    </changeSet>

    <changeSet author="thaitt" id="2021-04-24-add-column-product-name-text-in-table-combo-product" >
        <addColumn tableName="COMBO_PRODUCT">
            <column name="PRODUCT_NAME_TEXT" type="varchar(500)"/>
        </addColumn>
        <rollback>
            <dropColumn tableName="COMBO_PRODUCT" columnName="PRODUCT_NAME_TEXT"/>
        </rollback>
    </changeSet>

    <changeSet author="thaitt" id="04-05-2021-rename-column-date-to-rpt-date-in-table-rpt-stock-aggregated">
        <renameColumn tableName="RPT_STOCK_AGGREGATED" columnDataType="date" oldColumnName="DATE" newColumnName="RPT_DATE"/>
        <rollback>
            <dropColumn tableName="RPT_STOCK_AGGREGATED" columnName="RPT_DATE"/>
        </rollback>
    </changeSet>

    <changeSet author="thaitt" id="14-05-2021-rename-column-import-sales-return-to-import-return-in-table-rpt-stock-aggregated">
        <renameColumn tableName="RPT_STOCK_AGGREGATED"
                      columnDataType="int" oldColumnName="IMPORT_SALES_RETURN_QUANTITY" newColumnName="IMPORT_RETURN_QUANTITY"/>
        <renameColumn tableName="RPT_STOCK_AGGREGATED"
                      columnDataType="int" oldColumnName="IMPORT_PROMOTION_RETURN_QUANTITY" newColumnName="IMPORT_COMBO_QUANTITY"/>
        <rollback>
            <dropColumn tableName="RPT_STOCK_AGGREGATED" columnName="IMPORT_RETURN_QUANTITY"/>
            <dropColumn tableName="RPT_STOCK_AGGREGATED" columnName="IMPORT_COMBO_QUANTITY"/>
        </rollback>
    </changeSet>

    <changeSet author="thaitt" id="14-05-2021-add-column-export-combo-export-poreturn-quantity-in-table-rpt-stock-aggregated" >
        <addColumn tableName="RPT_STOCK_AGGREGATED">
            <column name="EXPORT_COMBO_QUANTITY" type="int"/>
        </addColumn>
        <addColumn tableName="RPT_STOCK_AGGREGATED">
            <column name="EXPORT_PORETURN_QUANTITY" type="int"/>
        </addColumn>
        <rollback>
            <dropColumn tableName="RPT_STOCK_AGGREGATED" columnName="EXPORT_COMBO_QUANTITY"/>
            <dropColumn tableName="RPT_STOCK_AGGREGATED" columnName="EXPORT_PORETURN_QUANTITY"/>
        </rollback>
    </changeSet>


</databaseChangeLog>
