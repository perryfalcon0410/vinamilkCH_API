<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet id="2021-03-11-create-tables-for-management-customer" author="tuanba">
       <createTable tableName="FULL_ADDRESS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="COUNTRY_ID" type="bigint"/>
            <column name="AREA_ID" type="bigint"/>
            <column name="PROVINCE_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DISTRICT_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="WARD_ID" type="bigint"/>
            <column name="ADDRESS_ID" type="bigint"/>
           <column name="CREATED_AT" type="datetime"/>
           <column name="UPDATED_AT" type="datetime"/>
           <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="GROUPS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="NAME" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_BY" type="bigint"/>
            <column name="UPDATED_BY" type="bigint"/>
            <column name="DELETED_BY" type="bigint"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="CUSTOMERS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="BAR_CODE" type="varchar(255)">
                <constraints unique="true"/>
            </column>
            <column name="CUS_CODE" type="varchar(255)">
                <constraints unique="true"/>
            </column>
            <column name="FIRST_NAME" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="LAST_NAME" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="PHONE_NUMBER" type="varchar(255)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="TAX_CODE" type="varchar(255)">
                <constraints unique="true"/>
            </column>
            <column name="DOB" type="date"/>
            <column name="EMAIL" type="varchar(100)"/>
            <column name="GENDER" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="STATUS" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="CUS_TYPE" type="int"/>
            <column name="EXCLUSIVE" type="tinyint(0)">
                <constraints nullable="false"/>
            </column>
            <column name="DESCRIPTION" type="varchar(255)"/>
            <column name="ADDRESS_ID" type="bigint"/>
            <column name="SHOP_ID" type="bigint"/>
            <column name="GROUP_ID" type="bigint"/>
            <column name="IDENTITY_CARD_ID" type="bigint">
                <constraints unique="true"/>
            </column>
            <column name="CARD_MEMBER_ID" type="bigint">
                <constraints unique="true"/>
            </column>
            <column name="COMPANY_ID" type="bigint"/>
            <column name="CREATED_BY" type="bigint"/>
            <column name="UPDATED_BY" type="bigint"/>
            <column name="DELETED_BY" type="bigint"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="MEMBER_CARDS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="CARD_NUMBER" type="varchar(255)">
                <constraints unique="true"/>
            </column>
            <column name="CUSTOMER_ID" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CARD_TYPE" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="GROUP_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_BY" type="bigint"/>
            <column name="UPDATED_BY" type="bigint"/>
            <column name="DELETED_BY" type="bigint"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

       <createTable tableName="ID_CARDS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="CUS_ID" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_NO" type="varchar(255)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="ISSUE_DATE" type="date"/>
            <column name="ISSUE_PLACE" type="varchar(255)"/>
           <column name="CREATED_AT" type="datetime"/>
           <column name="UPDATED_AT" type="datetime"/>
           <column name="DELETED_AT" type="datetime"/>
        </createTable>

       <createTable tableName="COMPANIES">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="NAME" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ADDRESS" type="varchar(255)"/>
           <column name="CREATED_AT" type="datetime"/>
           <column name="UPDATED_AT" type="datetime"/>
           <column name="DELETED_AT" type="datetime"/>
        </createTable>

       <createTable tableName="CUSTOMER_REPORTS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="CUS_ID" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="MONTHLY_PURCHASE" type="int"/>
            <column name="TOTAL_PURCHASE" type="int"/>
            <column name="PRO_ID_1" type="bigint"/>
            <column name="PRO_ID_2" type="bigint"/>
            <column name="PRO_ID_3" type="bigint"/>
            <column name="PRO_ID_4" type="bigint"/>
            <column name="PRO_ID_5" type="bigint"/>
            <column name="LAST_TRADE" type="datetime"/>
           <column name="CREATED_AT" type="datetime"/>
           <column name="UPDATED_AT" type="datetime"/>
           <column name="DELETED_AT" type="datetime"/>
        </createTable>
        <rollback>
            <dropTable tableName="FULL_ADDRESS"/>
            <dropTable tableName="GROUPS"/>
            <dropTable tableName="CUSTOMERS"/>
            <dropTable tableName="MEMBER_CARDS"/>
            <dropTable tableName="ID_CARDS"/>
            <dropTable tableName="COMPANIES"/>
            <dropTable tableName="CUSTOMER_REPORT"/>
        </rollback>
    </changeSet>
</databaseChangeLog>
