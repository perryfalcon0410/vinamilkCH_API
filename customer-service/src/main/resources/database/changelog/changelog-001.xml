<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet id="2021-03-14-create-tables-for-management-customer" author="vanghm">

        <createTable tableName="CUSTOMERS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="BAR_CODE" type="varchar(255)"/>
            <column name="CUSTOMER_CODE" type="varchar(255)"/>
            <column name="FIRST_NAME" type="varchar(255)"/>
            <column name="LAST_NAME" type="varchar(255)"/>
            <column name="BIRTHDAY" type="date"/>
            <column name="GENDER" type="int" defaultOnNull="0">
                <constraints nullable="false"/>
            </column>
            <column name="CUSTOMER_GROUP_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="STATUS" type="int" defaultOnNull="0">
                <constraints nullable="false"/>
            </column>
            <column name="SPECIAL_CUSTOMER" type="int"/>
            <column name="NOTED" type="text"/>
            <column name="PHONE_NUMBER" type="varchar(255)"/>
            <column name="EMAIL" type="varchar(255)"/>
            <column name="COUNTRY_ID" type="bigint"/>
            <column name="AREA_ID" type="bigint"/>
            <column name="PROVINCE_ID" type="bigint"/>
            <column name="DISTRICT_ID" type="bigint"/>
            <column name="WARD_ID" type="bigint"/>
            <column name="ADDRESS" type="text"/>
            <column name="SHOP_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="IDENTITY_CARD_ID" type="bigint"/>
            <column name="COMPANY_NAME" type="varchar(255)"/>
            <column name="COMPANY_ADDRESS" type="text"/>
            <column name="TAX_CODE" type="varchar(255)"/>
            <column name="CARD_MEMBER_ID" type="bigint"/>
            <column name="CREATED_BY" type="bigint"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_BY" type="bigint"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_BY" type="bigint"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="CUSTOMER_GROUPS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="NAME" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="MEMBER_CARDS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="MEMBER_CARD_CODE" type="varchar(255)"/>
            <column name="MEMBER_CARD_TYPE_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="MEMBER_CARD_CUSTOMER_TYPE_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_BY" type="bigint"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_BY" type="bigint"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_BY" type="bigint"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="MEMBER_CARD_TYPES">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="NAME" type="varchar(255)"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="MEMBER_CARD_CUSTOMER_TYPES">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="NAME" type="varchar(255)"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <createTable tableName="IDENTITY_CARDS">
            <column name="ID" type="bigint" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="IDENTITY_CARD_CODE" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="IDENTITY_CARD_ISSUE_DATE" type="date"/>
            <column name="IDENTITY_CARD_ISSUE_PLACE" type="varchar(255)"/>
            <column name="IDENTITY_CARD_EXPIRY_DATE" type="date"/>
            <column name="IDENTITY_CARD_TYPE" type="int" defaultOnNull="1"/>
            <column name="CREATED_AT" type="datetime"/>
            <column name="UPDATED_AT" type="datetime"/>
            <column name="DELETED_AT" type="datetime"/>
        </createTable>

        <rollback>
            <dropTable tableName="CUSTOMERS"/>
            <dropTable tableName="CUSTOMER_GROUPS"/>
            <dropTable tableName="MEMBER_CARDS"/>
            <dropTable tableName="MEMBER_CARD_TYPES"/>
            <dropTable tableName="MEMBER_CARD_CUSTOMER_TYPES"/>
            <dropTable tableName="IDENTITY_CARDS"/>
        </rollback>
    </changeSet>

</databaseChangeLog>
